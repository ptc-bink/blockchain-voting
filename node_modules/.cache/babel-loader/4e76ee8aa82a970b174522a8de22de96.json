{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport React, { Component } from 'react';\nimport { Button, Form, Grid, Header, Segment, TextArea } from 'semantic-ui-react';\nimport web3 from '../../Ethereum/web3';\nimport Election_Factory from '../../Ethereum/election_factory';\n\nvar LoginForm =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(LoginForm, _Component);\n\n  function LoginForm() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, LoginForm);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(LoginForm)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      election_name: '',\n      election_description: ''\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"signin\",\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(event) {\n        var accounts, address;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return web3.eth.getAccounts();\n\n              case 2:\n                accounts = _context.sent;\n                _context.next = 5;\n                return Election_Factory.methods.createElection(\"abc@abc.comm\", _this.state.election_name, _this.state.election_description).call({\n                  from: accounts[0]\n                });\n\n              case 5:\n                address = _context.sent;\n                alert(\"Election created successfully!\");\n                Router.pushRoute(\"/election/\".concat(address, \"/company_dashboard\"));\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this), \"LoginForm\", function () {\n      return React.createElement(\"div\", {\n        className: \"login-form\"\n      }, React.createElement(\"style\", {\n        JSX: true\n      }, \"\\n                .login-form {\\n                    width:100%;\\n                    height:100%;\\n                    position:absolute;\\n                    background: url('../../static/blockchain.jpg') no-repeat;\\n                } \\n              \"), React.createElement(Grid, {\n        textAlign: \"center\",\n        style: {\n          height: '100%'\n        },\n        verticalAlign: \"middle\"\n      }, React.createElement(Grid.Column, {\n        style: {\n          maxWidth: 380\n        }\n      }, React.createElement(Form, {\n        size: \"large\"\n      }, React.createElement(Segment, null, React.createElement(Header, {\n        as: \"h2\",\n        color: \"black\",\n        textAlign: \"center\",\n        style: {\n          marginTop: 10\n        }\n      }, \"Create an election!\"), React.createElement(Form.Input, {\n        fluid: true,\n        iconPosition: \"left\",\n        icon: \"address card outline\",\n        placeholder: \"Election Name\",\n        style: {\n          padding: 5\n        },\n        value: _this.state.election_name,\n        onChange: function onChange(event) {\n          return _this.setState({\n            election_name: event.target.value\n          });\n        }\n      }), React.createElement(TextArea, {\n        style: {\n          padding: 5,\n          marginLeft: '5px',\n          maxWidth: '100%',\n          marginBottom: '10px'\n        },\n        fluid: true,\n        iconPosition: \"left\",\n        icon: \"\",\n        placeholder: \"Election Description\",\n        value: _this.state.election_description,\n        onChange: function onChange(event) {\n          return _this.setState({\n            election_description: event.target.value\n          });\n        }\n      }), React.createElement(Button, {\n        color: \"blue\",\n        fluid: true,\n        size: \"large\",\n        style: {\n          marginBottom: 15\n        },\n        onClick: _this.signin\n      }, \"Submit\"))))));\n    });\n\n    return _this;\n  }\n\n  _createClass(LoginForm, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", null, React.createElement(\"link\", {\n        rel: \"stylesheet\",\n        href: \"//cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css\"\n      }), this.LoginForm());\n    }\n  }]);\n\n  return LoginForm;\n}(Component);\n\nexport default LoginForm;","map":{"version":3,"sources":["D:\\Blockchain\\BlockChainVoting\\pages\\election\\create_election.js"],"names":["React","Component","Button","Form","Grid","Header","Segment","TextArea","web3","Election_Factory","LoginForm","election_name","election_description","event","eth","getAccounts","accounts","methods","createElection","state","call","from","address","alert","Router","pushRoute","height","maxWidth","marginTop","padding","setState","target","value","marginLeft","marginBottom","signin"],"mappings":"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","sourcesContent":["import React,{Component} from 'react'\r\nimport { Button, Form, Grid, Header, Segment, TextArea } from 'semantic-ui-react'\r\nimport web3 from '../../Ethereum/web3';\r\nimport Election_Factory from '../../Ethereum/election_factory'\r\nclass LoginForm extends Component {\r\n \r\n    state = {\r\n        election_name: '',\r\n        election_description: ''\r\n    }\r\n\r\n    signin = async event => {\r\n        const accounts = await web3.eth.getAccounts();\r\n        const address = await Election_Factory.methods\r\n            .createElection(\"abc@abc.comm\",this.state.election_name,this.state.election_description)\r\n            .call({from: accounts[0]});\r\n        alert(\"Election created successfully!\");\r\n        Router.pushRoute(`/election/${address}/company_dashboard`);\r\n    }\r\n\r\n    LoginForm = () => (         \r\n        <div className='login-form'>          \r\n          <style JSX>{`\r\n                .login-form {\r\n                    width:100%;\r\n                    height:100%;\r\n                    position:absolute;\r\n                    background: url('../../static/blockchain.jpg') no-repeat;\r\n                } \r\n              `}</style>\r\n          \r\n          <Grid textAlign='center' style={{ height: '100%'}} verticalAlign='middle'>\r\n            <Grid.Column style={{ maxWidth: 380 }}>              \r\n              <Form size='large'>        \r\n                <Segment>\r\n                <Header as='h2' color='black' textAlign='center' style={{marginTop: 10}}>                 \r\n                Create an election!\r\n              </Header>\r\n                  <Form.Input fluid iconPosition='left' icon=\"address card outline\" placeholder='Election Name' \r\n                  style={{padding: 5}}\r\n                  value={this.state.election_name}\r\n                  onChange={event => this.setState({election_name: event.target.value })}\r\n                  />\r\n                  <TextArea\r\n                    style={{padding: 5, marginLeft: '5px', maxWidth:'100%', marginBottom: '10px'}}\r\n                    fluid\r\n                    iconPosition='left'\r\n                    icon=\"\"\r\n                    placeholder='Election Description'\r\n                    value={this.state.election_description}\r\n                    onChange={event => this.setState({election_description: event.target.value })}\r\n                  />\r\n      \r\n                  <Button color='blue' fluid size='large' style={{marginBottom: 15}} onClick={this.signin}>\r\n                    Submit\r\n                  </Button>\r\n                </Segment>\r\n              </Form>              \r\n            </Grid.Column>\r\n          </Grid>          \r\n        </div>\r\n      )\r\n\r\nrender() {\r\n   \r\n    return (\r\n      <div>\r\n    <link\r\n           rel=\"stylesheet\"\r\n           href=\"//cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css\"\r\n        />\r\n      {/* <link href=\"../css/paper-dashboard.css?v=2.0.0\" rel=\"stylesheet\" /> */}\r\n      {this.LoginForm()}\r\n      \r\n      </div>\r\n  );\r\n  }\r\n}\r\n\r\n    export default LoginForm"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React, { Component } from 'react';\nimport { Grid, Step, Icon, Menu, Sidebar, Container, Card, Header, Button } from 'semantic-ui-react';\nimport Layout from '../../components/Layout';\nimport { Bar } from 'react-chartjs-2';\nimport 'chartjs-plugin-annotation';\nimport Election from '../../Ethereum/election';\nimport Cookies from 'js-cookie';\nimport web3 from '../../Ethereum/web3';\nimport { Router } from '../../routes';\nimport { throws } from 'assert';\nvar options = {\n  maintainAspectRatio: true,\n  scales: {\n    yAxes: [{\n      height: '500px',\n      stacked: true,\n      gridLines: {\n        display: true,\n        color: \"rgba(255,99,132,0.2)\"\n      }\n    }],\n    xAxes: [{\n      width: '500px',\n      gridLines: {\n        display: false\n      }\n    }]\n  }\n};\nvar data = {\n  labels: [],\n  datasets: [{\n    label: \"Vote Counts\",\n    backgroundColor: \"rgba(255,99,132,0.2)\",\n    borderColor: \"rgba(255,99,132,1)\",\n    borderWidth: 2,\n    hoverBackgroundColor: \"rgba(255,99,132,0.4)\",\n    hoverBorderColor: \"rgba(255,99,132,1)\",\n    data: [65, 59, 20, 81, 56, 55, 40]\n  }]\n};\n\nvar ContainerExampleContainer =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ContainerExampleContainer, _Component);\n\n  function ContainerExampleContainer() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ContainerExampleContainer);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ContainerExampleContainer)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      election_name: '',\n      election_desc: '',\n      voters: 0,\n      candidates: 0,\n      visible: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getElectionDetails\", function () {\n      var _this$state = _this.state,\n          election_name = _this$state.election_name,\n          election_desc = _this$state.election_desc;\n      return React.createElement(\"div\", {\n        style: {\n          marginLeft: '43%',\n          marginBottom: '2%',\n          marginTop: '2%'\n        }\n      }, React.createElement(Header, {\n        as: \"h2\"\n      }, React.createElement(Icon, {\n        name: \"address card\"\n      }), React.createElement(Header.Content, null, election_name, React.createElement(Header.Subheader, null, election_desc))));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"GridExampleGrid\", function () {\n      return React.createElement(Grid, null, columns);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"SidebarExampleVisible\", function () {\n      return React.createElement(Sidebar.Pushable, null, React.createElement(Sidebar, {\n        as: Menu,\n        animation: \"overlay\",\n        icon: \"labeled\",\n        inverted: true,\n        vertical: true,\n        visible: true,\n        width: \"thin\",\n        style: {\n          backgroundColor: 'white',\n          borderWidth: \"10px\"\n        }\n      }, React.createElement(Menu.Item, {\n        as: \"a\",\n        style: {\n          color: 'grey'\n        }\n      }, React.createElement(\"h2\", null, \"MENU\"), React.createElement(\"hr\", null)), React.createElement(Menu.Item, {\n        as: \"a\",\n        style: {\n          color: 'grey'\n        }\n      }, React.createElement(Icon, {\n        name: \"dashboard\"\n      }), \"Dashboard\"), React.createElement(Menu.Item, {\n        as: \"a\",\n        style: {\n          color: 'grey'\n        }\n      }, React.createElement(Icon, {\n        name: \"user outline\"\n      }), \"Candidate List\"), React.createElement(Menu.Item, {\n        as: \"a\",\n        style: {\n          color: 'grey'\n        }\n      }, React.createElement(Icon, {\n        name: \"list\"\n      }), \"Voter List\"), React.createElement(\"hr\", null), React.createElement(Menu.Item, {\n        as: \"a\",\n        style: {\n          color: 'grey'\n        }\n      }, React.createElement(Icon, {\n        name: \"sign out\"\n      }), \"Sign Out\")));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"CardExampleGroupProps\", function () {\n      return React.createElement(Card.Group, null);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"returnGraph\", function () {\n      return React.createElement(Bar, {\n        data: data,\n        width: 100,\n        height: 50,\n        options: options\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(ContainerExampleContainer, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var add, election, summary, v, c, candidates;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                add = Cookies.get('address');\n                election = Election(add);\n                _context.next = 5;\n                return election.methods.getElectionDetails().call();\n\n              case 5:\n                summary = _context.sent;\n                _context.next = 8;\n                return election.methods.getNumOfVoters().call();\n\n              case 8:\n                v = _context.sent.toString(1);\n                console.log(v);\n                this.setState({\n                  voters: v\n                });\n                _context.next = 13;\n                return election.methods.getNumOfCandidates().call();\n\n              case 13:\n                c = _context.sent.toString(1);\n                console.log(c);\n                this.setState({\n                  candidates: c\n                });\n                this.getElectionDetails();\n                this.setState({\n                  election_name: summary[0],\n                  election_desc: summary[1]\n                });\n                _context.next = 20;\n                return election.methods.getCandidate(0).call();\n\n              case 20:\n                candidates = _context.sent;\n                console.log(candidates);\n                _context.next = 29;\n                break;\n\n              case 24:\n                _context.prev = 24;\n                _context.t0 = _context[\"catch\"](0);\n                console.log(_context.t0.message);\n                alert(\"Redirecting you to login page...\");\n                Router.pushRoute('/company_login');\n\n              case 29:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 24]]);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", null, React.createElement(Grid, null, React.createElement(Grid.Row, null, React.createElement(Grid.Column, {\n        width: 2\n      }, this.SidebarExampleVisible()), React.createElement(Layout, null, React.createElement(Grid.Column, {\n        width: 16\n      }, this.getElectionDetails(), React.createElement(Step.Group, {\n        style: {\n          minWidth: 1130,\n          minHeight: 90\n        }\n      }, React.createElement(Step, {\n        icon: \"users\",\n        title: \"Voters\",\n        description: this.state.voters\n      }), React.createElement(Step, {\n        icon: \"user outline\",\n        title: \"Candidates\",\n        description: this.state.candidates\n      }), React.createElement(Step, {\n        icon: \"chart bar outline\",\n        title: \"Total Votes\",\n        description: this.state.voters\n      })), this.CardExampleGroupProps(), React.createElement(Grid.Column, {\n        visible: this.state.visible\n      }, React.createElement(\"br\", null), React.createElement(\"div\", {\n        className: \"jsx-4150802546\" + \" \" + \"he\"\n      }, React.createElement(_JSXStyle, {\n        id: \"4150802546\"\n      }, \".he.jsx-4150802546{height:50%;max-width:100%;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkQ6XFxCbG9ja2NoYWluXFxCbG9ja0NoYWluVm90aW5nXFxwYWdlc1xcZWxlY3Rpb25cXGNvbXBhbnlfZGFzaGJvYXJkLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQStKOEIsQUFHa0MsV0FDSSxlQUNqQiIsImZpbGUiOiJEOlxcQmxvY2tjaGFpblxcQmxvY2tDaGFpblZvdGluZ1xccGFnZXNcXGVsZWN0aW9uXFxjb21wYW55X2Rhc2hib2FyZC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IEdyaWQsIFN0ZXAsIEljb24sIE1lbnUsIFNpZGViYXIsIENvbnRhaW5lciwgQ2FyZCwgSGVhZGVyLCBCdXR0b24gfSBmcm9tICdzZW1hbnRpYy11aS1yZWFjdCc7XHJcbmltcG9ydCBMYXlvdXQgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9MYXlvdXQnO1xyXG5pbXBvcnQgeyBCYXIgfSBmcm9tICdyZWFjdC1jaGFydGpzLTInO1xyXG5pbXBvcnQgJ2NoYXJ0anMtcGx1Z2luLWFubm90YXRpb24nO1xyXG5pbXBvcnQgRWxlY3Rpb24gZnJvbSAnLi4vLi4vRXRoZXJldW0vZWxlY3Rpb24nO1xyXG5pbXBvcnQgQ29va2llcyBmcm9tICdqcy1jb29raWUnO1xyXG5pbXBvcnQgd2ViMyBmcm9tICcuLi8uLi9FdGhlcmV1bS93ZWIzJztcclxuaW1wb3J0IHtSb3V0ZXJ9IGZyb20gJy4uLy4uL3JvdXRlcyc7XHJcbmltcG9ydCB7IHRocm93cyB9IGZyb20gJ2Fzc2VydCc7XHJcblxyXG5jb25zdCBvcHRpb25zID0ge1xyXG4gIG1haW50YWluQXNwZWN0UmF0aW86IHRydWUsXHJcbiAgc2NhbGVzOiB7XHJcbiAgICB5QXhlczogW3tcclxuICAgICAgaGVpZ2h0OiAnNTAwcHgnLFxyXG4gICAgICBzdGFja2VkOiB0cnVlLFxyXG4gICAgICBncmlkTGluZXM6IHtcclxuICAgICAgICBkaXNwbGF5OiB0cnVlLFxyXG4gICAgICAgIGNvbG9yOiBcInJnYmEoMjU1LDk5LDEzMiwwLjIpXCJcclxuICAgICAgfVxyXG4gICAgfV0sXHJcbiAgICB4QXhlczogW3tcclxuICAgICAgd2lkdGg6ICc1MDBweCcsXHJcbiAgICAgIGdyaWRMaW5lczoge1xyXG4gICAgICAgIGRpc3BsYXk6IGZhbHNlXHJcbiAgICAgIH1cclxuICAgIH1dXHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgZGF0YSA9IHtcclxuICBsYWJlbHM6IFtdLFxyXG4gIGRhdGFzZXRzOiBbe1xyXG4gICAgbGFiZWw6IFwiVm90ZSBDb3VudHNcIixcclxuICAgIGJhY2tncm91bmRDb2xvcjogXCJyZ2JhKDI1NSw5OSwxMzIsMC4yKVwiLFxyXG4gICAgYm9yZGVyQ29sb3I6IFwicmdiYSgyNTUsOTksMTMyLDEpXCIsXHJcbiAgICBib3JkZXJXaWR0aDogMixcclxuICAgIGhvdmVyQmFja2dyb3VuZENvbG9yOiBcInJnYmEoMjU1LDk5LDEzMiwwLjQpXCIsXHJcbiAgICBob3ZlckJvcmRlckNvbG9yOiBcInJnYmEoMjU1LDk5LDEzMiwxKVwiLFxyXG4gICAgZGF0YTogWzY1LCA1OSwgMjAsIDgxLCA1NiwgNTUsIDQwXSxcclxuICB9XVxyXG59O1xyXG5cclxuY2xhc3MgQ29udGFpbmVyRXhhbXBsZUNvbnRhaW5lciBleHRlbmRzIENvbXBvbmVudCB7XHJcblxyXG4gICAgc3RhdGUgPSB7XHJcbiAgICAgICAgZWxlY3Rpb25fbmFtZTogJycsXHJcbiAgICAgICAgZWxlY3Rpb25fZGVzYzogJycsXHJcbiAgICAgICAgdm90ZXJzOiAwLFxyXG4gICAgICAgIGNhbmRpZGF0ZXM6IDAsXHJcbiAgICAgICAgdmlzaWJsZTogZmFsc2VcclxuICAgIH07XHJcbiAgYXN5bmMgY29tcG9uZW50RGlkTW91bnQoKSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGFkZCA9IENvb2tpZXMuZ2V0KCdhZGRyZXNzJyk7XHJcbiAgICAgIGNvbnN0IGVsZWN0aW9uID0gRWxlY3Rpb24oYWRkKTtcclxuICAgICAgY29uc3Qgc3VtbWFyeSA9IGF3YWl0IGVsZWN0aW9uLm1ldGhvZHMuZ2V0RWxlY3Rpb25EZXRhaWxzKCkuY2FsbCgpO1xyXG4gICAgICBjb25zdCB2ID0gKGF3YWl0IGVsZWN0aW9uLm1ldGhvZHMuZ2V0TnVtT2ZWb3RlcnMoKS5jYWxsKCkpLnRvU3RyaW5nKDEpO1xyXG4gICAgICBjb25zb2xlLmxvZyh2KTsgIFxyXG4gICAgICB0aGlzLnNldFN0YXRlKHt2b3RlcnM6IHZ9KTsgICAgICBcclxuICAgICAgY29uc3QgYyA9IChhd2FpdCBlbGVjdGlvbi5tZXRob2RzLmdldE51bU9mQ2FuZGlkYXRlcygpLmNhbGwoKSkudG9TdHJpbmcoMSk7XHJcbiAgICAgIGNvbnNvbGUubG9nKGMpO1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHtjYW5kaWRhdGVzOiBjfSlcclxuICAgICAgdGhpcy5nZXRFbGVjdGlvbkRldGFpbHMoKTtcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICBlbGVjdGlvbl9uYW1lOiBzdW1tYXJ5WzBdLFxyXG4gICAgICAgICAgZWxlY3Rpb25fZGVzYzogc3VtbWFyeVsxXVxyXG4gICAgICB9KTtcclxuICAgICAgY29uc3QgY2FuZGlkYXRlcyA9IGF3YWl0IGVsZWN0aW9uLm1ldGhvZHMuZ2V0Q2FuZGlkYXRlKDApLmNhbGwoKTtcclxuICAgICAgY29uc29sZS5sb2coY2FuZGlkYXRlcyk7XHJcbiAgICB9Y2F0Y2ggKGVycikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVyci5tZXNzYWdlKTtcclxuICAgICAgICBhbGVydChcIlJlZGlyZWN0aW5nIHlvdSB0byBsb2dpbiBwYWdlLi4uXCIpO1xyXG4gICAgICAgIFJvdXRlci5wdXNoUm91dGUoJy9jb21wYW55X2xvZ2luJyk7XHJcbiAgICB9XHJcbiAgfSAgXHJcblxyXG4gIGdldEVsZWN0aW9uRGV0YWlscyA9ICgpID0+IHtcclxuICAgICAgY29uc3Qge1xyXG4gICAgICAgICAgZWxlY3Rpb25fbmFtZSxcclxuICAgICAgICAgIGVsZWN0aW9uX2Rlc2NcclxuICAgICAgfSA9IHRoaXMuc3RhdGU7XHJcblxyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIDxkaXYgc3R5bGU9e3ttYXJnaW5MZWZ0OiAnNDMlJyxtYXJnaW5Cb3R0b206ICcyJScsbWFyZ2luVG9wOiAnMiUnfX0+XHJcbiAgICAgICAgICA8SGVhZGVyIGFzPVwiaDJcIj5cclxuICAgICAgICAgICAgPEljb24gbmFtZT1cImFkZHJlc3MgY2FyZFwiIC8+XHJcbiAgICAgICAgICAgIDxIZWFkZXIuQ29udGVudD5cclxuICAgICAgICAgICAgICB7ZWxlY3Rpb25fbmFtZX1cclxuICAgICAgICAgICAgICA8SGVhZGVyLlN1YmhlYWRlcj57ZWxlY3Rpb25fZGVzY308L0hlYWRlci5TdWJoZWFkZXI+XHJcbiAgICAgICAgICAgIDwvSGVhZGVyLkNvbnRlbnQ+XHJcbiAgICAgICAgICA8L0hlYWRlcj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKTtcclxuICB9XHJcblxyXG4gIEdyaWRFeGFtcGxlR3JpZCA9ICgpID0+IDxHcmlkPntjb2x1bW5zfTwvR3JpZD5cclxuICBTaWRlYmFyRXhhbXBsZVZpc2libGUgPSAoKSA9PiAoXHJcbiAgICA8U2lkZWJhci5QdXNoYWJsZT5cclxuICAgICAgPFNpZGViYXIgYXM9e01lbnV9IGFuaW1hdGlvbj0nb3ZlcmxheScgaWNvbj0nbGFiZWxlZCcgaW52ZXJ0ZWQgdmVydGljYWwgdmlzaWJsZSB3aWR0aD0ndGhpbicgc3R5bGU9e3sgYmFja2dyb3VuZENvbG9yOiAnd2hpdGUnLCBib3JkZXJXaWR0aDogXCIxMHB4XCIgfX0+XHJcbiAgICAgIDxNZW51Lkl0ZW0gYXM9J2EnIHN0eWxlPXt7IGNvbG9yOiAnZ3JleScgfX0gPlxyXG4gICAgICA8aDI+TUVOVTwvaDI+PGhyLz5cclxuICAgICAgPC9NZW51Lkl0ZW0+XHJcbiAgICAgICAgPE1lbnUuSXRlbSBhcz0nYScgc3R5bGU9e3sgY29sb3I6ICdncmV5JyB9fSA+XHJcbiAgICAgICAgICA8SWNvbiBuYW1lPSdkYXNoYm9hcmQnIC8+XHJcbiAgICAgICAgICBEYXNoYm9hcmRcclxuICAgICAgICA8L01lbnUuSXRlbT5cclxuICAgICAgICA8TWVudS5JdGVtIGFzPSdhJyBzdHlsZT17eyBjb2xvcjogJ2dyZXknIH19PlxyXG4gICAgICAgICAgPEljb24gbmFtZT0ndXNlciBvdXRsaW5lJyAvPlxyXG4gICAgICAgICAgQ2FuZGlkYXRlIExpc3RcclxuICAgICAgICA8L01lbnUuSXRlbT5cclxuICAgICAgICA8TWVudS5JdGVtIGFzPSdhJyBzdHlsZT17eyBjb2xvcjogJ2dyZXknIH19PlxyXG4gICAgICAgICAgPEljb24gbmFtZT0nbGlzdCcgLz5cclxuICAgICAgICAgIFZvdGVyIExpc3RcclxuICAgICAgICA8L01lbnUuSXRlbT5cclxuICAgICAgICA8aHIvPlxyXG4gICAgICAgIDxNZW51Lkl0ZW0gYXM9J2EnIHN0eWxlPXt7IGNvbG9yOiAnZ3JleScgfX0+XHJcbiAgICAgICAgICA8SWNvbiBuYW1lPSdzaWduIG91dCcgLz5cclxuICAgICAgICAgIFNpZ24gT3V0XHJcbiAgICAgICAgPC9NZW51Lkl0ZW0+ICAgICAgICAgXHJcbiAgICAgIDwvU2lkZWJhcj5cclxuICAgIDwvU2lkZWJhci5QdXNoYWJsZT5cclxuICApXHJcbiAgQ2FyZEV4YW1wbGVHcm91cFByb3BzID0gKCkgPT4gKDxDYXJkLkdyb3VwID5cclxuXHJcbiAgPC9DYXJkLkdyb3VwPilcclxuXHJcbiAgICByZXR1cm5HcmFwaCA9ICgpID0+IChcclxuICAgICAgPEJhclxyXG4gICAgICAgIGRhdGE9e2RhdGF9XHJcbiAgICAgICAgd2lkdGg9ezEwMH1cclxuICAgICAgICBoZWlnaHQ9ezUwfVxyXG4gICAgICAgIG9wdGlvbnM9e29wdGlvbnN9XHJcbiAgICAgIC8+ICAgIFxyXG4gICAgKVxyXG4gICAgXHJcbiAgcmVuZGVyKCkge1xyXG4gICAgcmV0dXJuICggIFxyXG4gICAgICA8ZGl2PiAgICAgICAgICAgICAgICBcclxuICAgICAgICA8R3JpZD5cclxuICAgICAgICAgIDxHcmlkLlJvdz5cclxuICAgICAgICAgICAgPEdyaWQuQ29sdW1uIHdpZHRoPXsyfT5cclxuICAgICAgICAgICAgICB7dGhpcy5TaWRlYmFyRXhhbXBsZVZpc2libGUoKX1cclxuICAgICAgICAgICAgPC9HcmlkLkNvbHVtbj5cclxuXHJcbiAgICAgICAgICAgIDxMYXlvdXQ+ICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICA8R3JpZC5Db2x1bW4gd2lkdGg9ezE2fT5cclxuICAgICAgICAgICAgICB7dGhpcy5nZXRFbGVjdGlvbkRldGFpbHMoKX0gICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgPFN0ZXAuR3JvdXAgc3R5bGU9e3sgbWluV2lkdGg6IDExMzAsIG1pbkhlaWdodDogOTAsIH19PlxyXG4gICAgICAgICAgICAgICAgICA8U3RlcCBpY29uPSd1c2VycycgdGl0bGU9J1ZvdGVycycgZGVzY3JpcHRpb249e3RoaXMuc3RhdGUudm90ZXJzfSAvPlxyXG4gICAgICAgICAgICAgICAgICA8U3RlcCBpY29uPSd1c2VyIG91dGxpbmUnIHRpdGxlPSdDYW5kaWRhdGVzJyBkZXNjcmlwdGlvbj17dGhpcy5zdGF0ZS5jYW5kaWRhdGVzfS8+XHJcbiAgICAgICAgICAgICAgICAgIDxTdGVwIGljb249J2NoYXJ0IGJhciBvdXRsaW5lJyB0aXRsZT0nVG90YWwgVm90ZXMnIGRlc2NyaXB0aW9uPXt0aGlzLnN0YXRlLnZvdGVyc30gLz5cclxuICAgICAgICAgICAgICAgIDwvU3RlcC5Hcm91cD5cclxuICAgICAgICAgICAgICAgIHt0aGlzLkNhcmRFeGFtcGxlR3JvdXBQcm9wcygpfVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICA8R3JpZC5Db2x1bW4gdmlzaWJsZT17dGhpcy5zdGF0ZS52aXNpYmxlfT5cclxuICAgICAgICAgICAgICAgICAgICA8YnIvPlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImhlXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxzdHlsZSBqc3g+e2BcclxuICAgICAgICAgICAgICAgICAgICAuaGUge1xyXG4gICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiA1MCU7XHJcbiAgICAgICAgICAgICAgICAgICAgICBtYXgtd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICBgfTwvc3R5bGU+XHJcbiAgICAgICAgICAgICAgICAgIHt0aGlzLnJldHVybkdyYXBoKCl9XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PiBcclxuICAgICAgICAgICAgICAgIDwvR3JpZC5Db2x1bW4+ICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIDwvR3JpZC5Db2x1bW4+ICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgPC9MYXlvdXQ+XHJcbiAgICAgICAgICA8L0dyaWQuUm93PlxyXG4gICAgICAgIDwvR3JpZD5cclxuICAgICAgPC9kaXY+XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQ29udGFpbmVyRXhhbXBsZUNvbnRhaW5lcjsiXX0= */\\n/*@ sourceURL=D:\\\\Blockchain\\\\BlockChainVoting\\\\pages\\\\election\\\\company_dashboard.js */\"), this.returnGraph())))))));\n    }\n  }]);\n\n  return ContainerExampleContainer;\n}(Component);\n\nexport default ContainerExampleContainer;","map":{"version":3,"sources":["D:\\Blockchain\\BlockChainVoting\\pages\\election\\company_dashboard.js"],"names":["React","Component","Grid","Step","Icon","Menu","Sidebar","Container","Card","Header","Button","Layout","Bar","Election","Cookies","web3","Router","throws","options","maintainAspectRatio","scales","yAxes","height","stacked","gridLines","display","color","xAxes","width","data","labels","datasets","label","backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","ContainerExampleContainer","election_name","election_desc","voters","candidates","visible","state","marginLeft","marginBottom","marginTop","columns","add","get","election","methods","getElectionDetails","call","summary","getNumOfVoters","v","toString","console","log","setState","getNumOfCandidates","c","getCandidate","message","alert","pushRoute","SidebarExampleVisible","minWidth","minHeight","CardExampleGroupProps","returnGraph"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Grid, Step, Icon, Menu, Sidebar, Container, Card, Header, Button } from 'semantic-ui-react';\r\nimport Layout from '../../components/Layout';\r\nimport { Bar } from 'react-chartjs-2';\r\nimport 'chartjs-plugin-annotation';\r\nimport Election from '../../Ethereum/election';\r\nimport Cookies from 'js-cookie';\r\nimport web3 from '../../Ethereum/web3';\r\nimport {Router} from '../../routes';\r\nimport { throws } from 'assert';\r\n\r\nconst options = {\r\n  maintainAspectRatio: true,\r\n  scales: {\r\n    yAxes: [{\r\n      height: '500px',\r\n      stacked: true,\r\n      gridLines: {\r\n        display: true,\r\n        color: \"rgba(255,99,132,0.2)\"\r\n      }\r\n    }],\r\n    xAxes: [{\r\n      width: '500px',\r\n      gridLines: {\r\n        display: false\r\n      }\r\n    }]\r\n  }\r\n};\r\n\r\nconst data = {\r\n  labels: [],\r\n  datasets: [{\r\n    label: \"Vote Counts\",\r\n    backgroundColor: \"rgba(255,99,132,0.2)\",\r\n    borderColor: \"rgba(255,99,132,1)\",\r\n    borderWidth: 2,\r\n    hoverBackgroundColor: \"rgba(255,99,132,0.4)\",\r\n    hoverBorderColor: \"rgba(255,99,132,1)\",\r\n    data: [65, 59, 20, 81, 56, 55, 40],\r\n  }]\r\n};\r\n\r\nclass ContainerExampleContainer extends Component {\r\n\r\n    state = {\r\n        election_name: '',\r\n        election_desc: '',\r\n        voters: 0,\r\n        candidates: 0,\r\n        visible: false\r\n    };\r\n  async componentDidMount() {\r\n      try {\r\n      const add = Cookies.get('address');\r\n      const election = Election(add);\r\n      const summary = await election.methods.getElectionDetails().call();\r\n      const v = (await election.methods.getNumOfVoters().call()).toString(1);\r\n      console.log(v);  \r\n      this.setState({voters: v});      \r\n      const c = (await election.methods.getNumOfCandidates().call()).toString(1);\r\n      console.log(c);\r\n      this.setState({candidates: c})\r\n      this.getElectionDetails();\r\n      this.setState({\r\n          election_name: summary[0],\r\n          election_desc: summary[1]\r\n      });\r\n      const candidates = await election.methods.getCandidate(0).call();\r\n      console.log(candidates);\r\n    }catch (err) {\r\n        console.log(err.message);\r\n        alert(\"Redirecting you to login page...\");\r\n        Router.pushRoute('/company_login');\r\n    }\r\n  }  \r\n\r\n  getElectionDetails = () => {\r\n      const {\r\n          election_name,\r\n          election_desc\r\n      } = this.state;\r\n\r\n      return (\r\n        <div style={{marginLeft: '43%',marginBottom: '2%',marginTop: '2%'}}>\r\n          <Header as=\"h2\">\r\n            <Icon name=\"address card\" />\r\n            <Header.Content>\r\n              {election_name}\r\n              <Header.Subheader>{election_desc}</Header.Subheader>\r\n            </Header.Content>\r\n          </Header>\r\n        </div>\r\n      );\r\n  }\r\n\r\n  GridExampleGrid = () => <Grid>{columns}</Grid>\r\n  SidebarExampleVisible = () => (\r\n    <Sidebar.Pushable>\r\n      <Sidebar as={Menu} animation='overlay' icon='labeled' inverted vertical visible width='thin' style={{ backgroundColor: 'white', borderWidth: \"10px\" }}>\r\n      <Menu.Item as='a' style={{ color: 'grey' }} >\r\n      <h2>MENU</h2><hr/>\r\n      </Menu.Item>\r\n        <Menu.Item as='a' style={{ color: 'grey' }} >\r\n          <Icon name='dashboard' />\r\n          Dashboard\r\n        </Menu.Item>\r\n        <Menu.Item as='a' style={{ color: 'grey' }}>\r\n          <Icon name='user outline' />\r\n          Candidate List\r\n        </Menu.Item>\r\n        <Menu.Item as='a' style={{ color: 'grey' }}>\r\n          <Icon name='list' />\r\n          Voter List\r\n        </Menu.Item>\r\n        <hr/>\r\n        <Menu.Item as='a' style={{ color: 'grey' }}>\r\n          <Icon name='sign out' />\r\n          Sign Out\r\n        </Menu.Item>         \r\n      </Sidebar>\r\n    </Sidebar.Pushable>\r\n  )\r\n  CardExampleGroupProps = () => (<Card.Group >\r\n\r\n  </Card.Group>)\r\n\r\n    returnGraph = () => (\r\n      <Bar\r\n        data={data}\r\n        width={100}\r\n        height={50}\r\n        options={options}\r\n      />    \r\n    )\r\n    \r\n  render() {\r\n    return (  \r\n      <div>                \r\n        <Grid>\r\n          <Grid.Row>\r\n            <Grid.Column width={2}>\r\n              {this.SidebarExampleVisible()}\r\n            </Grid.Column>\r\n\r\n            <Layout>              \r\n              <Grid.Column width={16}>\r\n              {this.getElectionDetails()}           \r\n                <Step.Group style={{ minWidth: 1130, minHeight: 90, }}>\r\n                  <Step icon='users' title='Voters' description={this.state.voters} />\r\n                  <Step icon='user outline' title='Candidates' description={this.state.candidates}/>\r\n                  <Step icon='chart bar outline' title='Total Votes' description={this.state.voters} />\r\n                </Step.Group>\r\n                {this.CardExampleGroupProps()}\r\n                \r\n                <Grid.Column visible={this.state.visible}>\r\n                    <br/>\r\n                  <div className=\"he\">\r\n                  <style jsx>{`\r\n                    .he {\r\n                      height: 50%;\r\n                      max-width: 100%;\r\n                    }\r\n                  `}</style>\r\n                  {this.returnGraph()}\r\n                  </div> \r\n                </Grid.Column>                \r\n              </Grid.Column>            \r\n              </Layout>\r\n          </Grid.Row>\r\n        </Grid>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ContainerExampleContainer;"]},"metadata":{},"sourceType":"module"}